(()=>{var e={2435:(e,t,a)=>{var n={"./en-US.js":9174,"./ja.js":600,"./ko-KR.js":4219,"./zh-CN.js":493,"./zh-HK.js":3784,"./zh-TW.js":123};function r(e){return o(e).then(a)}function o(e){return Promise.resolve().then((()=>{if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}))}r.keys=()=>Object.keys(n),r.resolve=o,r.id=2435,e.exports=r},8093:(e,t,a)=>{"use strict";a.d(t,{w:()=>p,T:()=>m});var n=a(7224),r=a(9174);const o=()=>{const[e,t]=React.useState(r.language);return[e,React.useCallback((e=>{return r=e,(0,n.mG)(void 0,void 0,void 0,(function*(){const{language:e}=yield a(2435)(`./${r}.js`);t(e)}));var r}),[])]};var c=a(2396),l=a(4240);const{createContext:i,useEffect:s,useMemo:u}=React,m=i(void 0,((e,t)=>{let a=0;return e.lang!==t.lang&&(a|=1),e.prefState.builtInAudio!==t.prefState.builtInAudio&&(a|=2),e.prefState!==t.prefState&&(a|=4),a})),p=({children:e})=>{const[t,a]=(0,c.f6)((()=>localStorage.getItem("lrc-maker-preferences")||"")),[n,r]=o();s((()=>{r(t.lang).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[t.lang,r]),s((()=>{document.title=n.app.fullname,document.documentElement.lang=t.lang}),[n,t,t.lang]);const i=u((()=>({lang:n,prefState:t,prefDispatch:a,trimOptions:{trimStart:t.spaceStart>=0,trimEnd:t.spaceEnd>=0}})),[n,a,t]);return React.createElement(m.Provider,{value:i},e)}},6061:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Eidtor:()=>v});var n=a(4058),r=a(4817),o=a(3974),c=a(8093),l=a(4589),i=a(4240);const{useCallback:s,useContext:u,useEffect:m,useMemo:p,useRef:d,useState:h}=React,g={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},f=(e,t)=>{const a=(n=t,r=d(null),null!=n?n:r);var n,r;return m((()=>{a.current&&(a.current.value=e)}),[e,a]),{ref:a,defaultValue:e}},v=({lrcState:e,lrcDispatch:t})=>{const{prefState:a,lang:m,trimOptions:v}=u(c.T),y=s((e=>{t({type:0,payload:{text:e.target.value,options:v}})}),[t,v]),b=s((e=>{const{name:a,value:n}=e.target;t({type:3,payload:{name:a,value:n}})}),[t]),R=(0,n.Pz)(e,a),E=d(null),w=s((()=>{sessionStorage.setItem("editor-details-open",E.current.open.toString())}),[]),x=p((()=>"false"!==sessionStorage.getItem("editor-details-open")),[]),k=d(null),[S,N]=h(void 0),T=s((()=>{N((e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([k.current.value],{type:"text/plain;charset=UTF-8"})))))}),[]),C=s((e=>{if(null===e.target.files||0===e.target.files.length)return;const a=new FileReader;a.addEventListener("load",(()=>{t({type:0,payload:{text:a.result,options:v}})})),a.readAsText(e.target.files[0],"UTF-8")}),[t,v]),L=s((()=>{var e;null===(e=k.current)||void 0===e||e.select(),document.execCommand("copy")}),[]),I=p((()=>(0,o.L)(e.info)),[e.info]),O=p((()=>null!==localStorage.getItem("lrc-maker-oauth-token")&&null!==localStorage.getItem("lrc-maker-gist-id")),[]),G=s((()=>{setTimeout((()=>{const e=prompt(m.editor.saveFileName,I);e&&(0,r.cn)(e,k.current.value).catch((e=>{i.N.pub({type:"warning",text:e.message})}))}),500)}),[I,m]);return React.createElement("div",{className:"app-editor"},React.createElement("details",{ref:E,open:x,onToggle:w},React.createElement("summary",null,m.editor.metaInfo),React.createElement("section",{className:"app-editor-infobox",onBlur:b},React.createElement("label",{htmlFor:"info-ti"},"[ti:"),React.createElement("input",Object.assign({id:"info-ti",name:"ti",placeholder:m.editor.title},g,f(e.info.get("ti")||""))),React.createElement("label",{htmlFor:"info-ti"},"]"),React.createElement("label",{htmlFor:"info-ar"},"[ar:"),React.createElement("input",Object.assign({id:"info-ar",name:"ar",placeholder:m.editor.artist},g,f(e.info.get("ar")||""))),React.createElement("label",{htmlFor:"info-ar"},"]"),React.createElement("label",{htmlFor:"info-al"},"[al:"),React.createElement("input",Object.assign({id:"info-al",name:"al",placeholder:m.editor.album},g,f(e.info.get("al")||""))),React.createElement("label",{htmlFor:"info-al"},"]"))),React.createElement("section",{className:"editor-tools"},React.createElement("label",{className:"editor-tools-item ripple",title:m.editor.uploadText},React.createElement("input",{hidden:!0,type:"file",accept:"text/*, .txt, .lrc",onChange:C}),React.createElement(l.Sb,null)),React.createElement("button",{className:"editor-tools-item ripple",title:m.editor.copyText,onClick:L},React.createElement(l.sT,null)),React.createElement("a",{className:"editor-tools-item ripple",title:m.editor.downloadText,href:S,onClick:T,download:I},React.createElement(l.ID,null)),React.createElement("a",{title:m.editor.saveToGist,href:O?void 0:"#/gist/",className:"editor-tools-item ripple",onClick:O?G:void 0},React.createElement(l.Eo,null)),React.createElement("a",{title:m.editor.utils,href:"/lrc-utils/",className:"editor-tools-item ripple"},React.createElement(l.k3,null))),React.createElement("textarea",Object.assign({className:"app-textarea","aria-label":"lrc input here",onBlur:y},g,f(R,k))))}},330:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Gist:()=>h});var n=a(4817),r=a(8093),o=a(8141),c=a(4589),l=a(4240);const{useCallback:i,useContext:s,useEffect:u,useMemo:m,useState:p}=React,d={autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1},h=({lrcDispatch:e,langName:t})=>{const{lang:a,trimOptions:h}=s(r.T),[f,v]=p((()=>localStorage.getItem("lrc-maker-oauth-token"))),[y,b]=p((()=>localStorage.getItem("lrc-maker-gist-id"))),[R,E]=p(void 0),[w,x]=p((()=>JSON.parse(localStorage.getItem("lrc-maker-gist-file")))),k=m((()=>JSON.parse(sessionStorage.getItem("x-ratelimit"))),[]),S=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("token").value;localStorage.setItem("lrc-maker-oauth-token",t),v(t)}),[]),N=i((()=>{(0,n.xf)().then((e=>{localStorage.setItem("lrc-maker-gist-id",e.id),b(e.id)})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[]),T=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("gist-id").value;localStorage.setItem("lrc-maker-gist-id",t),b(t),(0,n.kf)().catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[]);u((()=>{null===y&&null!==f&&"HTMLDataListElement"in window&&(0,n.uE)().then((e=>{E(e.filter((e=>"https://lrc-maker.github.io"===e.description&&".lrc-maker"in e.files)).map((({id:e})=>e)))})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[f,y]),u((()=>{null!==y&&(0,n.Lf)().then((e=>{if(null===e)return;const t=Object.values(e.files).filter((e=>e.filename.endsWith(".lrc")));localStorage.setItem("lrc-maker-gist-file",JSON.stringify(t,["filename","content","truncated","raw_url"])),x(t)})).catch((e=>{l.N.pub({type:"warning",text:e.message})}))}),[y]);const C=i((t=>{const a=t.target;if(!("key"in a.dataset))return;const n=Number.parseInt(a.dataset.key,10),r=null==w?void 0:w[n];r&&(r.truncated?fetch(r.raw_url).then((e=>e.text())).then((t=>{e({type:0,payload:{text:t,options:h}})})).catch((e=>{l.N.pub({type:"warning",text:e.message})})):e({type:0,payload:{text:r.content,options:h}}))}),[w,e,h]),L=i((()=>{b(null),v(null)}),[]),I=m((()=>{if(null===k)return!1;const e=new Intl.DateTimeFormat(t,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1}).format(new Date(1e3*Number.parseInt(k["x-ratelimit-reset"],10)));return React.createElement("section",{className:"ratelimit"},React.createElement("p",null,"ratelimit-limit: ",k["x-ratelimit-limit"]),React.createElement("p",null,"ratelimit-remaining: ",k["x-ratelimit-remaining"]),React.createElement("p",null,"ratelimit-reset: ",e))}),[k,t]),O=i((()=>null!==y&&null!==f?React.createElement("details",{className:"gist-details"},React.createElement("summary",null,a.gist.info),React.createElement("section",{className:"gist-bar"},React.createElement("section",{className:"gist-info"},React.createElement("p",null,"Gist id: ",React.createElement("a",{href:`https://gist.github.com/${y}`,target:"_blank",rel:"noopener noreferrer",className:"link"},y)),React.createElement("button",{className:"button",onClick:L},a.gist.clearTokenAndGist)),I)):null),[y,f,a.gist.info,a.gist.clearTokenAndGist,L,I]),G=m((()=>{if(null===f)return React.createElement("section",{className:"new-token"},React.createElement(c.H_,null),React.createElement("p",{className:"new-token-tip-text"},a.gist.newTokenTip),React.createElement("a",{className:"new-token-tip button",target:"_blank",rel:"noopener noreferrer",href:"https://github.com/settings/tokens/new?scopes=gist&description=https://lrc-maker.github.io"},a.gist.newTokenButton),React.createElement("form",{className:"new-token-form",onSubmit:S},React.createElement("label",{htmlFor:"github-token"},"Token:"),React.createElement("input",Object.assign({type:"text",className:"new-token-input",id:"github-token",name:"token",key:"token",minLength:40,maxLength:40,required:!0},d)),React.createElement("input",{className:"new-token-submit button",type:"submit"})))}),[f,a.gist.newTokenTip,a.gist.newTokenButton,S]),M=m((()=>{if(null===y){const e=e=>React.createElement("option",{key:e,value:e}),t=R&&React.createElement("datalist",{id:"gist-list"},R.map((t=>e(t))),";");return React.createElement("section",{className:"get-gist-id"},React.createElement(c.H_,null),React.createElement("p",{className:"gist-id-tip-text"},a.gist.newGistTip),React.createElement("button",{className:"create-new-gist button",onClick:N},a.gist.newGistRepoButton),React.createElement("form",{className:"gist-id-form",onSubmit:T},React.createElement("label",{htmlFor:"gist-id"},"Gist id:"),React.createElement("input",Object.assign({type:"text",className:"gist-id-input",id:"gist-id",name:"gist-id",key:"gist-id",list:"gist-list",placeholder:a.gist.gistIdPlaceholder,required:!0},d)),React.createElement("input",{className:"button",type:"submit"}),t))}}),[y,R,a.gist.newGistTip,a.gist.newGistRepoButton,a.gist.gistIdPlaceholder,N,T]),j=m((()=>{if(null!==w){const e=(e,t)=>React.createElement("article",{className:"file-item",key:e.raw_url},React.createElement("section",{className:"file-content"},e.content),React.createElement("hr",null),React.createElement("section",{className:"file-bar"},React.createElement("span",{className:"file-title"},e.filename),React.createElement("span",{className:"file-action"},React.createElement("a",{className:"file-load",href:"#/editor/","data-key":t},React.createElement(c.JF,null)),React.createElement("a",{className:"file-load",href:"#/synchronizer/","data-key":t},React.createElement(c.dZ,null)))));return 0===w.length?React.createElement("section",{className:"gist-no-data"},React.createElement(o.DL,null)):React.createElement("section",{className:"file-list",onClick:C},w.map(e))}}),[w,C]);return React.createElement("div",{className:"gist"},React.createElement(O,null),G||M||j||React.createElement(g,null))},g=()=>React.createElement("section",{className:"gist-loading"},React.createElement(o.WQ,null))},7818:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Preferences:()=>g});var n=a(2396),r=a(4058),o=a(7224);var c=a(8093),l=a(8141);const{useCallback:i,useContext:s,useEffect:u,useMemo:m,useRef:p}=React,d={type:"number",step:1},h=(e,t)=>{const a=p(null);u((()=>{const t=a.current;if(t){const a=()=>{t.value=e.toString()};return t.addEventListener("change",a),()=>t.removeEventListener("change",a)}}),[e]);const n=i((e=>{e.target.validity.valid&&t(e)}),[t]);return Object.assign(Object.assign({},d),{ref:a,onChange:n,defaultValue:e})},g=()=>{const{prefState:e,prefDispatch:t,lang:a}=s(c.T,1),d=i((e=>{t({type:"themeColor",payload:e.target.value})}),[t]),g=p(null),f=i((e=>{let a=e.value;e.validity.valid?(3===a.length&&(a=[].map.call(a,(e=>e+e)).join("")),a.length<6&&(a=a.padEnd(6,"0")),t({type:"themeColor",payload:"#"+a})):e.value=e.defaultValue}),[t]),v=i((e=>f(e.target)),[f]),y=i((e=>{e.preventDefault();const t=e.target.elements.namedItem("user-color-input-text");return f(t)}),[f]);u((()=>{g.current.value=e.themeColor.slice(1)}),[e.themeColor]);const b=i((e=>{t({type:e.target.name,payload:e.target.value})}),[t]),R=i((()=>{(0,o.mG)(void 0,void 0,void 0,(function*(){"serviceWorker"in navigator&&(yield caches.keys().then((e=>Promise.all(e.filter((e=>e.startsWith("akari-lrc-maker"))).map((e=>caches.delete(e)))))),yield navigator.serviceWorker.getRegistration().then((e=>{e&&e.unregister().then((()=>{location.reload()}))})))}))}),[]),E=m((()=>{const t=new Date("2022-06-19T00:13:58+08:00");return new Intl.DateTimeFormat(e.lang,{year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short",hour12:!1}).format(t)}),[e.lang]),w=i((e=>{t({type:"lang",payload:e.target.value})}),[t]),x=i((()=>t({type:"builtInAudio",payload:e=>!e.builtInAudio})),[t]),k=i((()=>t({type:"screenButton",payload:e=>!e.screenButton})),[t]),S=i((e=>{t({type:"themeMode",payload:Number.parseInt(e.target.value,10)})}),[t]),N=i((e=>{t({type:"fixed",payload:Number.parseInt(e.target.value,10)})}),[t]),T=m((()=>Object.entries(n.um.languages).map((([e,t])=>React.createElement("option",{key:e,value:e},t)))),[]),C=m((()=>Object.values(n.EN).map((t=>{const a=t===e.themeColor,n=["color-picker","ripple"];return a&&n.push("checked"),React.createElement("label",{className:n.join(" "),key:t,style:{backgroundColor:t}},React.createElement("input",{hidden:!0,type:"radio",name:"theme-color",value:t,checked:a,onChange:d}))}))),[d,e.themeColor]),L=m((()=>({backgroundColor:e.themeColor})),[e.themeColor]),I=m((()=>(0,r.RZ)("   hello   世界～   ",e.spaceStart,e.spaceEnd)),[e.spaceStart,e.spaceEnd]),O=p(null),G=p(null);return u((()=>{"color"===G.current.type&&O.current.removeAttribute("for")}),[]),React.createElement("div",{className:"preferences"},React.createElement("ul",null,React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.version),React.createElement("span",{className:"select-all"},"5.5.2"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.commitHash),React.createElement("span",{className:"select-all"},"14c60ef"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.updateTime),React.createElement("span",null,E))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.repo),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker",target:"_blank",rel:"noopener noreferrer"},"Github"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.help),React.createElement("a",{className:"link",href:"https://github.com/magic-akari/lrc-maker/wiki",target:"_blank",rel:"noopener noreferrer"},"Github Wiki"))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.language),React.createElement("div",{className:"option-select"},React.createElement("select",{value:e.lang,onChange:w,"aria-label":a.preferences.language},T)))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,a.preferences.builtInAudio),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.builtInAudio,onChange:x,"aria-label":a.preferences.builtInAudio}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("span",null,a.preferences.spaceButton),React.createElement("label",{className:"toggle-switch"},React.createElement("input",{type:"checkbox",checked:e.screenButton,onChange:k,"aria-label":a.preferences.spaceButton}),React.createElement("span",{className:"toggle-switch-label"})))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.themeMode.label),React.createElement("div",{className:"option-select"},React.createElement("select",{name:"theme-mode",value:e.themeMode,onChange:S,"aria-label":a.preferences.themeMode.label},React.createElement("option",{value:0},a.preferences.themeMode.auto),React.createElement("option",{value:1},a.preferences.themeMode.light),React.createElement("option",{value:2},a.preferences.themeMode.dark))))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.themeColor),React.createElement("details",{className:"dropdown"},React.createElement("summary",null,React.createElement("span",{className:"color-picker ripple hash",style:L},"#"),React.createElement("span",{className:"current-theme-color"},e.themeColor.slice(1))),React.createElement("form",{className:"dropdown-body color-wall",onSubmit:y},C,React.createElement("label",{className:"color-picker ripple user-color-label hash",htmlFor:"user-color-input-text",style:L,ref:O},"#",React.createElement("input",{type:"color",className:"color-picker pseudo-hidden",value:e.themeColor,onChange:d,ref:G})),React.createElement("input",{ref:g,id:"user-color-input-text",name:"user-color-input-text",className:"user-color-input-text",type:"text",pattern:"[\\da-f]{3,6}",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,defaultValue:e.themeColor.slice(1),onBlur:v}))))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.lrcFormat),React.createElement("span",null,React.createElement("time",{className:"format-example-time"},(0,r.Zr)(83.456,e.fixed)),React.createElement("span",{className:"format-example-text"},I)))),React.createElement("li",null,React.createElement("section",{className:"list-item"},React.createElement("span",null,a.preferences.fixed),React.createElement("div",{className:"option-select"},React.createElement("select",{name:"fixed",value:e.fixed,onChange:N,"aria-label":a.preferences.lrcFormat},React.createElement("option",{value:0},"0"),React.createElement("option",{value:1},"1"),React.createElement("option",{value:2},"2"),React.createElement("option",{value:3},"3"))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-start"},a.preferences.leftSpace),React.createElement("input",Object.assign({name:"spaceStart",id:"space-start",required:!0,min:-1},h(e.spaceStart,b))))),React.createElement("li",null,React.createElement("label",{className:"list-item"},React.createElement("label",{htmlFor:"space-end"},a.preferences.rightSpace),React.createElement("input",Object.assign({name:"spaceEnd",id:"space-end",required:!0,min:-1},h(e.spaceEnd,b))))),React.createElement("li",{className:"ripple",onTransitionEnd:R},React.createElement("section",{className:"list-item"},a.preferences.clearCache))),React.createElement(l.Pp,null))}},8141:(e,t,a)=>{"use strict";a.d(t,{DL:()=>r,Pp:()=>n,WQ:()=>o});const n=()=>React.createElement("img",{className:"akari-hide-wall",alt:"akari-hide-wall",src:"./svg/akari-hide-wall.svg",crossOrigin:"anonymous"}),r=()=>React.createElement("img",{className:"akari-not-found",alt:"not found",src:"./svg/akari-not-found.svg",crossOrigin:"anonymous"}),o=()=>React.createElement("img",{className:"akari-odango-loading start-loading",alt:"loading",src:"./svg/akari-odango-loading.svg",crossOrigin:"anonymous"})},4589:(e,t,a)=>{"use strict";a.d(t,{Cn:()=>w,DP:()=>n,Eo:()=>y,H_:()=>b,ID:()=>h,JF:()=>r,Jm:()=>R,Mq:()=>p,Sb:()=>v,X0:()=>i,b2:()=>d,dZ:()=>o,fm:()=>u,gO:()=>l,gi:()=>m,go:()=>E,hL:()=>g,il:()=>c,k3:()=>x,nf:()=>s,sT:()=>f});const n=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z"})),r=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M3 17.46v3.04c0 .28.22.5.5.5h3.04c.13 0 .26-.05.35-.15L17.81 9.94l-3.75-3.75L3.15 17.1c-.1.1-.15.22-.15.36zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"})),o=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M4 21h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1s.45 1 1 1zM3 9.21v5.59c0 .45.54.67.85.35l2.79-2.79c.2-.2.2-.51 0-.71l-2.79-2.8a.5.5 0 0 0-.85.36zM8.6 17H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zM3 4c0 .55.45 1 1 1h16c.55 0 1-.45 1-1s-.45-1-1-1H4c-.55 0-1 .45-1 1zm5.6 5H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1zm0 4H20c.55 0 1-.45 1-1s-.45-1-1-1H8.6c-.55 0-1 .45-1 1s.45 1 1 1z"})),c=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4s1.79-4 4-4h.71C7.37 7.69 9.48 6 12 6c3.04 0 5.5 2.46 5.5 5.5v.5H19c1.66 0 3 1.34 3 3s-1.34 3-3 3z"})),l=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.44 12.99l-.01.02c.04-.33.08-.67.08-1.01 0-.34-.03-.66-.07-.99l.01.02 2.44-1.92-2.43-4.22-2.87 1.16.01.01c-.52-.4-1.09-.74-1.71-1h.01L14.44 2H9.57l-.44 3.07h.01c-.62.26-1.19.6-1.71 1l.01-.01-2.88-1.17-2.44 4.22 2.44 1.92.01-.02c-.04.33-.07.65-.07.99 0 .34.03.68.08 1.01l-.01-.02-2.1 1.65-.33.26 2.43 4.2 2.88-1.15-.02-.04c.53.41 1.1.75 1.73 1.01h-.03L9.58 22h4.85s.03-.18.06-.42l.38-2.65h-.01c.62-.26 1.2-.6 1.73-1.01l-.02.04 2.88 1.15 2.43-4.2s-.14-.12-.33-.26l-2.11-1.66zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z"})),i=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 6.82v10.36c0 .79.87 1.27 1.54.84l8.14-5.18c.62-.39.62-1.29 0-1.69L9.54 5.98C8.87 5.55 8 6.03 8 6.82z"})),s=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M8 19c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2v10c0 1.1.9 2 2 2zm6-12v10c0 1.1.9 2 2 2s2-.9 2-2V7c0-1.1-.9-2-2-2s-2 .9-2 2z"})),u=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M12 5V2.21c0-.45-.54-.67-.85-.35l-3.8 3.79c-.2.2-.2.51 0 .71l3.79 3.79c.32.31.86.09.86-.36V7c3.73 0 6.68 3.42 5.86 7.29-.47 2.26-2.14 3.99-4.39 4.53-3.64.88-6.93-1.6-7.42-4.96-.06-.49-.48-.86-.97-.86-.6 0-1.08.53-1 1.13.63 4.47 4.94 7.75 9.77 6.67 3.09-.69 5.39-3.08 5.99-6.19C20.84 9.48 16.94 5 12 5zm-1.31 8.9l.25-2.17h2.39v.71h-1.7l-.11.92c.03-.02.07-.03.11-.05s.09-.04.15-.05.12-.03.18-.04.13-.02.2-.02c.21 0 .39.03.55.1s.3.16.41.28.2.27.25.45.09.38.09.6c0 .19-.03.37-.09.54s-.15.32-.27.45-.27.24-.45.31-.39.12-.64.12c-.18 0-.36-.03-.53-.08s-.32-.14-.46-.24-.24-.24-.32-.39-.13-.33-.13-.53h.84c.02.18.08.32.19.41s.25.15.42.15c.11 0 .2-.02.27-.06s.14-.1.18-.17.08-.15.11-.25.03-.2.03-.31-.01-.21-.04-.31-.07-.17-.13-.24-.13-.12-.21-.15-.19-.05-.3-.05c-.08 0-.15.01-.2.02s-.11.03-.15.05-.08.05-.12.07-.07.06-.1.09l-.67-.16z"})),m=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{d:"M18.87 13c-.5 0-.91.37-.98.86-.48 3.37-3.77 5.84-7.42 4.96-2.25-.54-3.91-2.27-4.39-4.53C5.27 10.42 8.22 7 11.95 7v2.79c0 .45.54.67.85.35l3.79-3.79c.2-.2.2-.51 0-.71L12.8 1.85c-.31-.31-.85-.09-.85.35V5c-4.94 0-8.84 4.48-7.84 9.6.6 3.11 2.9 5.5 5.99 6.19 4.83 1.08 9.15-2.2 9.77-6.67.09-.59-.4-1.12-1-1.12zm-6.44 2.15c-.05.07-.11.13-.18.17s-.17.06-.27.06c-.17 0-.31-.05-.42-.15s-.17-.24-.19-.41h-.84c.01.2.05.37.13.53s.19.28.32.39.29.19.46.24.35.08.53.08c.24 0 .46-.04.64-.12s.33-.18.45-.31.21-.28.27-.45.09-.35.09-.54c0-.22-.03-.43-.09-.6s-.14-.33-.25-.45-.25-.22-.41-.28-.34-.1-.55-.1c-.07 0-.14.01-.2.02s-.13.02-.18.04-.1.03-.15.05-.08.04-.11.05l.11-.92h1.7v-.71H10.9l-.25 2.17.67.17c.03-.03.06-.06.1-.09s.07-.05.12-.07.1-.04.15-.05.13-.02.2-.02c.12 0 .22.02.3.05s.16.09.21.15.1.14.13.24.04.19.04.31-.01.22-.03.31-.06.17-.11.24z"})),p=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 4H5c-1.11 0-2 .9-2 2v12c0 1.1.9 2 2 2h3c.55 0 1-.45 1-1s-.45-1-1-1H5V8h14v10h-3c-.55 0-1 .45-1 1s.45 1 1 1h3c1.1 0 2-.9 2-2V6c0-1.1-.89-2-2-2zm-7.35 6.35l-2.79 2.79c-.32.32-.1.86.35.86H11v5c0 .55.45 1 1 1s1-.45 1-1v-5h1.79c.45 0 .67-.54.35-.85l-2.79-2.79c-.19-.2-.51-.2-.7-.01z"})),d=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{opacity:".3",d:"M12 4c-4.41 0-8 3.59-8 8s3.59 8 8 8 8-3.59 8-8-3.59-8-8-8zm4 10.59L14.59 16 12 13.41 9.41 16 8 14.59 10.59 12 8 9.41 9.41 8 12 10.59 14.59 8 16 9.41 13.41 12 16 14.59z"}),React.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})),h=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19 13v5c0 .55-.45 1-1 1H6c-.55 0-1-.45-1-1v-5c0-.55-.45-1-1-1s-1 .45-1 1v6c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-6c0-.55-.45-1-1-1s-1 .45-1 1zm-6-.33l1.88-1.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-3.59 3.59c-.39.39-1.02.39-1.41 0L7.7 12.2c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L11 12.67V4c0-.55.45-1 1-1s1 .45 1 1v8.67z"})),g=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{className:"lock-open",d:"M12 13c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6-5h-1V6c0-2.76-2.24-5-5-5-2.28 0-4.27 1.54-4.84 3.75-.14.54.18 1.08.72 1.22.53.14 1.08-.18 1.22-.72C9.44 3.93 10.63 3 12 3c1.65 0 3 1.35 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 11c0 .55-.45 1-1 1H7c-.55 0-1-.45-1-1v-8c0-.55.45-1 1-1h10c.55 0 1 .45 1 1v8z"}),React.createElement("path",{className:"lock-close",d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm-6 9c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2zM9 8V6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9z"})),f=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm-1 4H8c-1.1 0-1.99.9-1.99 2L6 21c0 1.1.89 2 1.99 2H19c1.1 0 2-.9 2-2V11l-6-6zM8 21V7h6v5h5v9H8z"})),v=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M9.17 6l2 2H20v10H4V6h5.17M10 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2h-8l-2-2z"})),y=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zM8 13h2.55v3h2.9v-3H16l-4-4z"})),b=()=>React.createElement("svg",{className:"github-svg",xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 16 16"},React.createElement("path",{d:"M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0 0 16 8c0-4.42-3.58-8-8-8z"})),R=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.29 16.29L5.7 12.7c-.39-.39-.39-1.02 0-1.41.39-.39 1.02-.39 1.41 0L10 14.17l6.88-6.88c.39-.39 1.02-.39 1.41 0 .39.39.39 1.02 0 1.41l-7.59 7.59c-.38.39-1.02.39-1.41 0z"})),E=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"})),w=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0V0z"}),React.createElement("path",{d:"M2.73 21h18.53c.77 0 1.25-.83.87-1.5l-9.27-16c-.39-.67-1.35-.67-1.73 0l-9.27 16c-.38.67.1 1.5.87 1.5zM13 18h-2v-2h2v2zm-1-4c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1z"})),x=()=>React.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24"},React.createElement("path",{fill:"none",d:"M0 0h24v24H0z"}),React.createElement("path",{d:"M8.2 10.5c-.4-.3-1-.5-1.5-.4 0 0-3.6-3-4.3-4.3-.5-1-.6-2.8 0-3.4.6-.6 2.4-.5 3.4 0C7 3.1 10 6.7 10 6.7c0 .6 0 1.1.4 1.6l-2.3 2.2zM18.7 17.8l.3-.2 1 .9 2 3-.5.5-3-1.9-1-1.1.3-.3L14 15l1-1 3.7 3.9z"}),React.createElement("path",{d:"M13.2 7.8c-.5-1.6 0-3.3 1.1-4.5a4.5 4.5 0 0 1 4.4-1.1L16 4.7l.7 2.5 2.5.7 2.5-2.5c.4 1.5 0 3.1-1.1 4.3a4.5 4.5 0 0 1-4.6 1.1L5.6 21.4a2.1 2.1 0 0 1-3 0c-.8-.8-.8-2.2 0-3L13.2 7.8zM3.9 21c.5 0 .8-.3.8-.8a.8.8 0 1 0-1.6 0c0 .5.4.8.8.8z"}))},7084:(e,t,a)=>{"use strict";a.r(t),a.d(t,{Synchronizer:()=>x});var n=a(5707),r=a(4058),o=a(1255),c=a(3681),l=a(8093),i=a(3974),s=a(4589);const{useState:u,useCallback:m}=React,p=React.memo((({syncMode:e,setSyncMode:t,lrcDispatch:a,prefState:n})=>{const[o,c]=u(),[l,p]=u(),d=m((()=>{t((e=>0===e?1:0))}),[t]),h=m((()=>{a({type:6,payload:e=>{const t=(0,r.Pz)(e,n);c((e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(new Blob([t],{type:"text/plain;charset=UTF-8"}))))),p((0,i.L)(e.info))}})}),[a,n]),g=0===e?"select":"highlight",f=["aside-button","syncmode-button","ripple","glow ",g].join(" ");return React.createElement("aside",{className:"aside-panel"},React.createElement("button",{className:f,onClick:d,"aria-label":`${g} mode`},React.createElement(s.hL,null)),React.createElement("a",{href:o,download:l,className:"aside-button ripple glow",onClick:h},React.createElement(s.ID,null)))}));p.displayName=p.name;const{useState:d,useEffect:h,useRef:g}=React,f=({fixed:e})=>{const t=g(Symbol(f.name)),[a,n]=d(o._m.currentTime),[c,l]=d(o._m.paused),[i,s]=d(o._m.playbackRate);return h((()=>o.uQ.sub(t.current,(e=>{switch(e.type){case 0:l(e.payload);break;case 2:s(e.payload)}}))),[]),h((()=>{const a=[1,10,100,1e3][e]*i;if(c||2*a>60)return o.hh.sub(t.current,(e=>{n(e)}));{const e=setInterval((()=>{n(o._m.currentTime)}),1e3/(2*a));return()=>{clearInterval(e)}}}),[e,c,i]),React.createElement("time",{className:"curser"},(0,r.Zr)(a,e))},{useCallback:v,useContext:y,useEffect:b,useRef:R,useState:E}=React,w=({sync:e})=>React.createElement("button",{className:"space-button",onClick:e},"space"),x=({state:e,dispatch:t})=>{const a=R(Symbol(x.name)),{selectIndex:r,currentIndex:i}=e,{prefState:s,lang:u}=y(l.T);b((()=>{t({type:3,payload:{name:"tool",value:`${u.app.name} https://lrc-maker.github.io`}})}),[t,u]);const[m,d]=E((()=>sessionStorage.getItem("sync-mode")===1..toString()?1:0));b((()=>{sessionStorage.setItem("sync-mode",m.toString())}),[m]);const h=R(null),g={0:r,1:i}[m];b((()=>{var e;const t=null===(e=h.current)||void 0===e?void 0:e.children[g];void 0!==t&&t.scrollIntoView({behavior:"smooth",block:"center",inline:"center"})}),[g]),b((()=>o.hh.sub(a.current,(e=>{t({type:1,payload:e})}))),[t]);const f=v((()=>{o._m.duration&&t({type:2,payload:o._m.currentTime})}),[t]);b((()=>{const e=e=>{const{code:a,key:n,target:r}=e,o=a||n;if(!(0,c.y)(r))return"Backspace"===o||"Delete"===o||"Del"===o?(e.preventDefault(),void t({type:5,payload:void 0})):void(!0!==e.metaKey&&!0!==e.ctrlKey&&("Space"===a||" "===n||"Spacebar"===n?(e.preventDefault(),f()):["ArrowUp","KeyW","KeyJ","Up","W","w","J","j"].includes(o)?(e.preventDefault(),t({type:4,payload:e=>e-1})):["ArrowDown","KeyS","KeyK","Down","S","s","K","k"].includes(o)?(e.preventDefault(),t({type:4,payload:e=>e+1})):"Home"===o?(e.preventDefault(),t({type:4,payload:()=>0})):"End"===o?(e.preventDefault(),t({type:4,payload:()=>1/0})):"PageUp"===o?(e.preventDefault(),t({type:4,payload:e=>e-10})):"PageDown"===o&&(e.preventDefault(),t({type:4,payload:e=>e+10}))))};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}}),[t,f]);const S=v((e=>{e.stopPropagation();const a=e.target;if(a.classList.contains("line")){const e=Number.parseInt(a.dataset.key,10)||0;t({type:4,payload:()=>e})}}),[t]),N=v((e=>{if(e.stopPropagation(),!o._m.duration)return;const a=e.target;if(a.classList.contains("line")){const e=Number.parseInt(a.dataset.key,10);t({type:6,payload:({lyric:t})=>{const a=t[e].time;void 0!==a&&(o._m.currentTime=(0,n.l)(a,0,o._m.duration))}})}}),[t]),T=v(((e,t,a)=>{const n=t===r,o=t===i,c=t>0&&a[t].time<=a[t-1].time,l=Object.entries({line:!0,select:n,highlight:o,error:c}).reduce(((e,[t,a])=>(a&&e.push(t),e)),[]).join(" ");return React.createElement(k,{key:t,index:t,className:l,line:e,select:n,prefState:s})}),[r,i,s]),C=s.screenButton?"lyric-list on-screen-button":"lyric-list";return React.createElement(React.Fragment,null,React.createElement("ul",{ref:h,className:C,onClickCapture:S,onDoubleClickCapture:N},e.lyric.map(T)),React.createElement(p,{syncMode:m,setSyncMode:d,lrcDispatch:t,prefState:s}),s.screenButton&&React.createElement(w,{sync:f}))},k=({line:e,index:t,select:a,className:n,prefState:o})=>{const c=(0,r.Zr)(e.time,o.fixed),l=(0,r.RZ)(e.text,o.spaceStart,o.spaceEnd);return React.createElement("li",{key:t,"data-key":t,className:n},a&&React.createElement(f,{fixed:o.fixed}),React.createElement("time",{className:"line-time"},c),React.createElement("span",{className:"line-text"},l))}},4240:(e,t,a)=>{"use strict";a.d(t,{F:()=>m,N:()=>o});var n=a(5173),r=a(4589);const o=(0,n.P)(),{useCallback:c,useEffect:l,useRef:i,useState:s}=React,u={id:0},m=()=>{const e=i(Symbol(m.name)),[t,a]=s([]);l((()=>{o.sub(e.current,(e=>{a((t=>[Object.assign({id:u.id++},e),...t]))}))}),[]);const n=c((e=>{"slide-out-right"===e.animationName&&a((e=>e.slice(0,-1)))}),[]),p=c((e=>{const t={info:React.createElement(r.go,null),success:React.createElement(r.Jm,null),warning:React.createElement(r.Cn,null)}[e.type];return React.createElement("section",{className:"toast",key:e.id},React.createElement("section",{className:`toast-badge toast-${e.type}`},t),React.createElement("section",{className:"toast-text"},e.text))}),[]);return React.createElement("div",{className:"toast-queue",onAnimationEnd:n},t.map(p))}},5707:(e,t,a)=>{"use strict";a.d(t,{h:()=>l,l:()=>r});var n=a(4058);const r=(e,t,a)=>e<t?t:e>a?a:e,o=(e,t)=>{switch(t.type){case 0:{const{text:a,options:o}=t.payload,c=(0,n.E2)(a,o),l=r(e.selectIndex,0,c.lyric.length-1);return Object.assign(Object.assign(Object.assign({},e),c),{selectIndex:l})}case 1:{const a=t.payload;if(a>=e.currentTime&&a<e.nextTime)return e;const n=e.lyric.reduce(((e,t,n)=>(t.time&&(t.time<e.nextTime&&t.time>a&&(e.nextTime=t.time,e.nextIndex=n),t.time>e.currentTime&&t.time<=a&&(e.currentTime=t.time,e.currentIndex=n)),e)),{currentTime:-1/0,currentIndex:-1/0,nextTime:1/0,nextIndex:1/0});return((e,t)=>{for(const a in t)if(e[a]!==t[a])return Object.assign(Object.assign({},e),t);return e})(e,n)}case 2:{const a=t.payload,n=e.selectIndex;let o=e.lyric;if(o[n].time!==a){const e=o.slice();e[n]={text:o[n].text,time:a},o=e}const c=r(n+1,0,o.length-1);return Object.assign(Object.assign({},e),{lyric:o,selectIndex:c,currentTime:a,nextTime:-1/0})}case 3:{const{name:a,value:n}=t.payload,r=new Map(e.info);return""===n.trim()?r.delete(a):r.set(a,n.trim()),Object.assign(Object.assign({},e),{info:r})}case 4:{const a=r(t.payload(e.selectIndex),0,e.lyric.length-1);return e.selectIndex===a?e:Object.assign(Object.assign({},e),{selectIndex:a})}case 5:{const{selectIndex:t,currentIndex:a}=e;let n=e.lyric;if(void 0!==n[t].time){const r=n.slice();r[t]={text:n[t].text},n=r;let{currentTime:o,nextTime:c}=e;return t===a&&(o=1/0,c=-1/0),Object.assign(Object.assign({},e),{lyric:n,currentTime:o,nextTime:c})}return e}case 6:return t.payload(e),e}return e},c=e=>{const{text:t,options:a,select:r}=e();return Object.assign(Object.assign({},(0,n.E2)(t,a)),{currentTime:1/0,currentIndex:1/0,nextTime:-1/0,nextIndex:-1/0,selectIndex:r})},l=e=>React.useReducer(o,e,c)},2396:(e,t,a)=>{"use strict";a.d(t,{EN:()=>r,f6:()=>i,um:()=>n});const n=JSON.parse(document.getElementById("app-info").textContent),r={orange:"#ff691f",yellow:"#fab81e",lime:"#7fdbb6",green:"#19cf86",blue:"#91d2fa",navy:"#1b95e0",grey:"#abb8c2",red:"#e81c4f",pink:"#f58ea8",purple:"#c877fe"},o={lang:"en-US",spaceStart:1,spaceEnd:0,fixed:3,builtInAudio:!1,screenButton:!1,themeColor:r.pink,themeMode:0},c=(e,t)=>{const a=t.payload;return Object.assign(Object.assign({},e),{[t.type]:"function"==typeof a?a(e):a})},l=e=>{const t=o,a=navigator.languages||[navigator.language||"en-US"];t.lang=a.map((e=>"zh"===e?"zh-CN":e.startsWith("en")?"en-US":e)).find((e=>e in n.languages))||"en-US";try{const a=JSON.parse(e()),n=Object.keys(o);for(const e of n)e in a&&(t[e]=a[e])}catch(r){}return t},i=e=>React.useReducer(c,e,l)},9174:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"English",app:{name:"LRC Maker",fullname:"Akari's LRC Maker"},header:{home:"home",editor:"editor",synchronizer:"synchronizer",gist:"Github Gist",preferences:"preferences"},audio:{loadAudio:"load audio",play:"play",pause:"pause",replay5s:"replay 5s",forward5s:"forward 5s",resetRate:"reset playback rate",error:["audio error","audio aborted by user","audio network error","audio decoding error","audio not supported"]},loadAudio:{file:"File",url:"URL",loadFile:"Click here or drop audio file in this page"},home:{tips:"Tips",tipForLyricText:"Navigate to the editor page and paste lyric text.",tipForUploadAudio:"Click the bottom left button to load audio file.",tipForSynchronizer:"Navigate to synchronizer page and make your lrc :)",tipTopLeft:"Click here come back to this page",tipTopRight:"Click here to navigate to other page",tipBottomLeft:"load audio here, and control the audio",tipBottomRight:"change the playback rate here"},editor:{metaInfo:"meta info",album:"album",title:"title",artist:"artist",uploadText:"upload text",copyText:"select all and copy",downloadText:"download",saveToGist:"save to Github Gist",saveFileName:"Filename",utils:"lrc utils"},gist:{newTokenTip:"LRC Maker use Github Token to fetch and store data to Github Gist",newTokenButton:"Generate a new Github Token",newGistTip:"Create a new Gist repository or assign an existing Gist id",newGistRepoButton:"Create a new Gist Repository",gistIdPlaceholder:"Or assign an existing Gist id",info:"info",clearTokenAndGist:"Clear token and Gist id"},preferences:{version:"Version",commitHash:"Commit hash",updateTime:"Update time",repo:"Repository",help:"Help & tips",language:"Language",builtInAudio:"Use browser built-in audio player",spaceButton:"On-screen space key",themeColor:"Theme color",lrcFormat:"LRC formtat adjust",fixed:"Timestamp fixed",leftSpace:"Left space",rightSpace:"Right space",clearCache:"Clear caches",themeMode:{label:"Theme Mode",auto:"auto",light:"light",dark:"dark"}},notify:{audioLoaded:"Audio loaded."}}},600:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"日本語",app:{name:"歌詞スクロールちゃん",fullname:"あかりの歌詞スクロールちゃん"},header:{home:"ホームページ",editor:"編集",synchronizer:"同期",gist:"Github Gist",preferences:"設定"},audio:{loadAudio:"オーディオファイルを読み込む",play:"再生",pause:"停止",replay5s:"5秒戻る",forward5s:"5秒進む",resetRate:"再生速度をリセット",error:["オーディオエラー","オーディオダウンロードエラー","オーディオネットワークエラー","オーディオデコードエラー","ブラウザでサポートされていないオーディオ"]},loadAudio:{file:"ファイル",url:"URL",loadFile:"ここをクリックするか、このページにオーディオファイルをドロップしてください"},home:{tips:"プロンプト",tipForLyricText:"編集ページに切り替えて歌詞のテキストを貼り付けます。",tipForUploadAudio:"左下のボタンをクリックしてオーディオファイルをロードします。",tipForSynchronizer:"同期ページに切り替えてスクロール歌詞を作り始めます〜",tipTopLeft:"このヘルプページに戻るにはここをクリック",tipTopRight:"ページを切り替えるにはここをクリック",tipBottomLeft:"ここでオーディオをロードして再生を制御できます。",tipBottomRight:"ここでは再生速度を変更できます"},editor:{metaInfo:"メタ情報",album:"アルバム",title:"曲名",artist:"アーティスト名",uploadText:"テキストを読み込む",copyText:"すべて選択してコピー",downloadText:"ダウンロード",saveToGist:"Github Gistに保存",saveFileName:"ファイル名",utils:"lrc utils"},gist:{newTokenTip:"歌詞スクロールちゃんはGithub Gistにデータを取得して保存するためにGithubトークンを使用します",newTokenButton:"新しいGithubトークンを生成する",newGistTip:"新しいGistリポジトリを作成するか、既存のGist IDを割り当てます",newGistRepoButton:"新しいGistリポジトリを作成する",gistIdPlaceholder:"または既存のGist IDを割り当てる",info:"情報",clearTokenAndGist:"クリアトークンとGIST ID"},preferences:{version:"バージョン",commitHash:"Commit hash",updateTime:"更新時間",repo:"プロジェクトURL",help:"について＆ヘルプ",language:"言語(language)",builtInAudio:"ブラウザ内蔵のオーディオプレーヤーを使用する",spaceButton:"画面上のスペースキー",themeColor:"テーマカラー",lrcFormat:"歌詞出力フォーマット制御",fixed:"タイムスタンプ小数点",leftSpace:"左側のスペース",rightSpace:"右側スペース",clearCache:"キャッシュをクリア",themeMode:{label:"テーマモード",auto:"自動",light:"ライト",dark:"ダーク"}},notify:{audioLoaded:"オーディオがロードされました"}}},4219:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"한국어",app:{name:"LRC 메이커",fullname:"Akari의 LRC 메이커"},header:{home:"홈",editor:"편집기",synchronizer:"동기화",gist:"Github Gist",preferences:"설정"},audio:{loadAudio:"음원 로드하기",play:"재생",pause:"일시 중지",replay5s:"5초 뒤로 가기",forward5s:"5초 건더 뛰기",resetRate:"재생 속도 다시 설정",error:["오디오 오류","사용자가 오디오를 중단됨","오디오 넷워크 오류","오디오 디코딩 오류","오디오 지원하지 앖습니다"]},loadAudio:{file:"파일",url:"링크",loadFile:"여기로 파일 선택하기 또는 오디오 파일을 이 페이지에 드롭하기"},home:{tips:"팁",tipForLyricText:"편집기 페이지에 가사 텍스트를 붙여넣기.",tipForUploadAudio:"왼쪽 하단에는 버튼 클릭하면 오디오 파일 로드하기.",tipForSynchronizer:"동기화 페이기에 당신의 가사를 만드세요 :)",tipTopLeft:"에기에 클릭하면  이 페이지 돌아와세요",tipTopRight:"에기에 다른 페이지 탐색하세요",tipBottomLeft:"여기에 오리오를 로드하고 제어하세요",tipBottomRight:"여기에 재생 속도를 조정하세요"},editor:{metaInfo:"메타 정보",album:"앨범",title:"트랙 이름",artist:"아티스트",uploadText:"텍스트 업로드",copyText:"모두 선택 및 복사",downloadText:"다운로드",saveToGist:"GitHub Gist에 저장하기",saveFileName:"파일 이름",utils:"lrc 도구"},gist:{newTokenTip:"LRC 메이커는 GitHub 토큰으로 GitHub Gist 에서 데이터를 접근하고 저장합니다",newTokenButton:"새로운 GitHub 토큰 생성하기",newGistTip:"Create a new Gist repository or assign an existing Gist id",newGistRepoButton:"Create a new Gist Repository",gistIdPlaceholder:"Or assign an existing Gist id",info:"info",clearTokenAndGist:"Clear token and Gist id"},preferences:{version:"버전",commitHash:"토밋 헤시",updateTime:"업데이트 시간",repo:"저장고",help:"도움말 및 팁",language:"언어(language)",builtInAudio:"브라우저 빌트인 오디오 재생기 사용하기",spaceButton:"온 스크린 스페이스 키",themeColor:"모양색",lrcFormat:"LRC 포멧 조정",fixed:"타임 스템 고치됨",leftSpace:"왼쪽 스페이스",rightSpace:"오른쪽 스페이스",clearCache:"캐시 제거",themeMode:{label:"모양 모드",auto:"자동",light:"라이트",dark:"다크"}},notify:{audioLoaded:"음원 로드됨"}}},493:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"简体中文",app:{name:"歌词滚动姬",fullname:"灯里的歌词滚动姬"},header:{home:"主页",editor:"编辑",synchronizer:"打轴",gist:"Github Gist",preferences:"设置"},audio:{loadAudio:"加载音频",play:"播放",pause:"暂停",replay5s:"后退 5 秒",forward5s:"前进 5 秒",resetRate:"重置播放速度",error:["音频错误","音频请求被用户终止","音频网络请求错误","音频解码错误","浏览器无法支持此音频格式"]},loadAudio:{file:"文件",url:"外链",loadFile:"点击这里或直接拖放音频到这个页面"},home:{tips:"提示",tipForLyricText:"切换到编辑页面，粘贴歌词文本。",tipForUploadAudio:"点击左下方按钮，载入音频文件。",tipForSynchronizer:"切换到打轴页面，开始制作滚动歌词吧～",tipTopLeft:"点击这里可以回到这个帮助页面",tipTopRight:"点击这里切换页面",tipBottomLeft:"这里可以加载音频，控制播放",tipBottomRight:"这里可以调节播放速度"},editor:{metaInfo:"元信息",album:"所属专辑",title:"歌曲名",artist:"艺人名",uploadText:"加载文本",copyText:"全选复制",downloadText:"下载",saveToGist:"保存到 Github Gist",saveFileName:"文件名",utils:"实用工具"},gist:{newTokenTip:"歌词滚动姬使用 Github Token 来存取 Github Gist 上的数据",newTokenButton:"生成新的 Github Token",newGistTip:"创建一个新的 Gist 仓库或指定一个已存在的 Gist id",newGistRepoButton:"创建一个新的 Gist 仓库",gistIdPlaceholder:"或指定一个已存在的 Gist id",info:"信息",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新时间",repo:"项目地址",help:"关于 & 帮助",language:"语言(language)",builtInAudio:"使用浏览器内建音频播放器",spaceButton:"启用虚拟空格键",themeColor:"主题颜色",lrcFormat:"歌词输出格式控制",fixed:"时间标签小数点",leftSpace:"左侧空格",rightSpace:"右侧空格",clearCache:"清除缓存",themeMode:{label:"主题模式",auto:"跟随系统",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音频已载入"}}},3784:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"繁體中文(香港)",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Github Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網絡請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裏或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裏可以回到這個幫助頁面",tipTopRight:"點選這裏切換頁面",tipBottomLeft:"這裏可以加載音訊，控制播放",tipBottomRight:"這裏可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言(language)",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取",themeMode:{label:"主題模式",auto:"跟隨系統",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音訊已匯入"}}},123:(e,t,a)=>{"use strict";a.r(t),a.d(t,{language:()=>n});const n={languageName:"繁體中文",app:{name:"歌詞滾動姬",fullname:"小明的歌詞滾動姬"},header:{home:"主頁",editor:"編輯",synchronizer:"同步",gist:"Github Gist",preferences:"設定"},audio:{loadAudio:"匯入音訊",play:"播放",pause:"暫停",replay5s:"倒轉 5s",forward5s:"快轉 5s",resetRate:"重設播放速度",error:["音訊錯誤","音訊請求被用戶終止","音訊網路請求錯誤","音訊解碼錯誤","瀏覽器無法支援此音訊格式"]},loadAudio:{file:"檔案",url:"URL",loadFile:"點選這裡或直接拖放音訊檔案到這個頁面"},home:{tips:"提示",tipForLyricText:"切換到編輯頁面，黏貼歌詞文本。",tipForUploadAudio:"點選左下方按鈕，匯入音訊檔案。",tipForSynchronizer:"切換到同步頁面，開始製作滾動歌詞吧～",tipTopLeft:"點選這裡可以回到這個幫助頁面",tipTopRight:"點選這裡切換頁面",tipBottomLeft:"這裡可以加載音訊，控制播放",tipBottomRight:"這裡可以調節播放速度"},editor:{metaInfo:"元數據",album:"所屬專輯",title:"歌曲名",artist:"藝人名",uploadText:"匯入文本",copyText:"全選拷貝",downloadText:"下載",saveToGist:"保存到 Github Gist",saveFileName:"檔名",utils:"實用工具"},gist:{newTokenTip:"歌詞滾動姬使用 Github Token 來存取 Github Gist 上的數據",newTokenButton:"生成新的 Github Token",newGistTip:"創建一個新的 Gist 儲存庫或指定一個已存在的 Gist id",newGistRepoButton:"創建一個新的 Gist 儲存庫",gistIdPlaceholder:"或指定一個已存在的 Gist id",info:"資訊",clearTokenAndGist:"清除 Github Token 和 Gist id"},preferences:{version:"版本",commitHash:"Commit hash",updateTime:"更新時間",repo:"專案地址",help:"關於 & 幫助",language:"語言(language)",builtInAudio:"使用瀏覽器內建音訊播放器",spaceButton:"啓用螢幕 Space 鍵",themeColor:"主題顏色",lrcFormat:"歌詞輸出格式控制",fixed:"時間標籤小數點",leftSpace:"左側空格",rightSpace:"右側空格",clearCache:"清除快取",themeMode:{label:"主題模式",auto:"跟隨系統",light:"亮色模式",dark:"暗色模式"}},notify:{audioLoaded:"音訊已匯入"}}},4058:(e,t,a)=>{"use strict";a.d(t,{E2:()=>n,Pz:()=>l,RZ:()=>c,Zr:()=>o});const n=(e,t={})=>{const{trimStart:a=!1,trimEnd:n=!1}=t,r=e.split(/\r\n|\n|\r/u),o=/\[\s*(\d{1,3}):(\d{1,2}(?:[:.]\d{1,3})?)\s*]/g,c=/\[\s*(\w{1,6})\s*:(.*?)]/,l=new Map,i=[];for(const s of r){if("["!==s[0]){i.push({text:s});continue}o.lastIndex=0;const e=o.exec(s);if(null!==e){const t=Number.parseInt(e[1],10),a=Number.parseFloat(e[2].replace(":",".")),n=s.slice(o.lastIndex);i.push({time:60*t+a,text:n});continue}const t=c.exec(s);if(null===t)i.push({text:s});else{const e=t[2].trim();if(""===e)continue;l.set(t[1],e)}}return(a||n)&&i.forEach((e=>{a&&(e.text=e.text.trimStart()),n&&(e.text=e.text.trimEnd())})),{info:l,lyric:i}},r=new Map,o=(e,t,a=!0)=>{if(void 0===e)return"";const n=(e=>{if(r.has(e))return r.get(e);const t=new Intl.NumberFormat("en",{minimumIntegerDigits:2,minimumFractionDigits:e,maximumFractionDigits:e,useGrouping:!1});return r.set(e,t),t})(t),o=Math.floor(e/60).toString().padStart(2,"0"),c=n.format(e%60);return a?`[${o}:${c}]`:`${o}:${c}`},c=(e,t,a)=>{let n=e;return t>=0&&(n=" ".repeat(t)+n.trimStart()),a>=0&&(n=n.trimEnd()+" ".repeat(a)),n},l=(e,t)=>{const{spaceStart:a,spaceEnd:n,fixed:r,endOfLine:l="\r\n"}=t,i=Array.from(e.info.entries()).map((([e,t])=>`[${e}: ${t}]`)),s=e.lyric.map((e=>{if(void 0===e.time)return e.text;const t=c(e.text,a,n);return`${o(e.time,r)}${t}`}));return i.concat(s).join(l)}},8395:(e,t,a)=>{"use strict";a.r(t),t.default=(()=>{const e=performance||Date,t={current:0},a=()=>{cancelAnimationFrame(t.current),r()},n={passive:!0,once:!0},r=()=>{window.removeEventListener("wheel",a),window.removeEventListener("touchmove",a)},o=a=>{const n=e.now(),{startTime:c,startX:l,startY:i,stopY:s}=a,u=(n-c)/468;if(u>=1)return a.method(l,s),void r();var m;const p=i+(s-i)*(m=u,.5*(1-Math.cos(Math.PI*m)));a.method(l,p),p!==s&&(t.current=requestAnimationFrame((()=>o(a))))},c=document.scrollingElement||document.documentElement;Element.prototype.scrollIntoView=function(){const{top:r,bottom:l}=this.getBoundingClientRect(),i=(r+l)/2,s=window.visualViewport?window.visualViewport.height:innerHeight,u=c.scrollLeft,m=c.scrollTop,p=m+i-s/2;cancelAnimationFrame(t.current),window.addEventListener("wheel",a,n),window.addEventListener("touchmove",a,n),o({method:(e,t)=>window.scroll(e,t),startTime:e.now(),startX:u,startY:m,stopY:p})}})()},1255:(e,t,a)=>{"use strict";a.d(t,{_m:()=>r,hh:()=>c,uQ:()=>o});var n=a(5173);const r={current:null,get src(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.src)&&void 0!==t?t:""},get duration(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.duration)&&void 0!==t?t:0},get paused(){var e,t;return null===(t=null===(e=this.current)||void 0===e?void 0:e.paused)||void 0===t||t},get playbackRate(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.playbackRate)&&void 0!==t?t:1},set playbackRate(e){null!==this.current&&(this.current.playbackRate=e)},get currentTime(){var e,t;return null!==(t=null===(e=this.current)||void 0===e?void 0:e.currentTime)&&void 0!==t?t:0},set currentTime(e){null!==this.current&&0!==this.current.duration&&(this.current.currentTime=e)},step(e,t){e.altKey&&(t*=.2),e.shiftKey&&(t*=.5),this.currentTime+=t},toggle(){var e;(null===(e=this.current)||void 0===e?void 0:e.duration)&&(this.current.paused?this.current.play():this.current.pause())}},o=(0,n.P)(),c=(0,n.P)()},4817:(e,t,a)=>{"use strict";a.d(t,{Lf:()=>i,cn:()=>s,kf:()=>l,uE:()=>o,xf:()=>c});var n=a(7224);const r="https://api.github.com/gists",o=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"GET",headers:{Authorization:`token ${e}`},mode:"cors"});if(!t.ok)throw new Error(t.statusText);return t.json()})),c=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=yield fetch(r,{method:"POST",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",public:!0,files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!t.ok)throw new Error(t.statusText);return t.json()})),l=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),a=yield fetch(`${r}/${t}`,{method:"PATCH",headers:{Authorization:`token ${e}`},body:JSON.stringify({description:"https://lrc-maker.github.io",files:{".lrc-maker":{content:"This file is used to be tracked and identified by https://lrc-maker.github.io"}}})});if(!a.ok)throw new Error(a.statusText);return a.json()})),i=()=>(0,n.mG)(void 0,void 0,void 0,(function*(){const e=localStorage.getItem("lrc-maker-oauth-token"),t=localStorage.getItem("lrc-maker-gist-id"),a=localStorage.getItem("lrc-maker-gist-etag"),n=yield fetch(`${r}/${t}`,{headers:{Authorization:`token ${e}`,"If-None-Match":a}});if(!n.ok&&n.status>=400)throw yield n.json();localStorage.setItem("lrc-maker-gist-etag",n.headers.get("etag"));const o={"x-ratelimit-limit":n.headers.get("x-ratelimit-limit"),"x-ratelimit-remaining":n.headers.get("x-ratelimit-remaining"),"x-ratelimit-reset":n.headers.get("x-ratelimit-reset")};return sessionStorage.setItem("x-ratelimit",JSON.stringify(o)),200===n.status?n.json():null})),s=(e,t)=>(0,n.mG)(void 0,void 0,void 0,(function*(){const a=localStorage.getItem("lrc-maker-oauth-token"),n=localStorage.getItem("lrc-maker-gist-id"),o=yield fetch(`${r}/${n}`,{method:"PATCH",headers:{Authorization:`token ${a}`},body:JSON.stringify({files:{[e]:{content:t}}})});if(!o.ok)throw new Error(o.statusText);return o.json()}))},3681:(e,t,a)=>{"use strict";a.d(t,{y:()=>n});const n=e=>{if(null===e)return!1;const t=e.type;return"textarea"===t||"text"===t||"url"===t}},3974:(e,t,a)=>{"use strict";a.d(t,{L:()=>n});const n=e=>{const t=[e.get("ti"),e.get("ar")].filter((e=>!!e));return 0===t.length&&(e.has("al")&&t.push(e.get("al")),t.push((new Date).toLocaleString())),t.map((e=>(e=>e.replace(/[<>:"/\\|?*]/g,"_").trim())(e))).join(" - ")+".lrc"}},5173:(e,t,a)=>{"use strict";a.d(t,{P:()=>n});const n=()=>{const e=new Map;return{pub:t=>{e.forEach((e=>e(t)))},sub:(t,a)=>(e.set(t,a),()=>{e.delete(t)})}}},6926:(e,t,a)=>{a(1946);var n=a(601);e.exports=n("Array","includes")},617:(e,t,a)=>{a(4485);var n=a(8314);e.exports=n.Object.entries},18:(e,t,a)=>{a(152);var n=a(8314);e.exports=n.Object.values},9004:(e,t,a)=>{a(1452);var n=a(601);e.exports=n("String","padEnd")},7193:(e,t,a)=>{a(3886);var n=a(601);e.exports=n("String","padStart")},3663:(e,t,a)=>{var n=a(8112),r=a(2458),o=TypeError;e.exports=function(e){if(n(e))return e;throw o(r(e)+" is not a function")}},4570:(e,t,a)=>{var n=a(2798),r=a(3222),o=a(5822).f,c=n("unscopables"),l=Array.prototype;null==l[c]&&o(l,c,{configurable:!0,value:r(null)}),e.exports=function(e){l[c][e]=!0}},4343:(e,t,a)=>{var n=a(7650),r=String,o=TypeError;e.exports=function(e){if(n(e))return e;throw o(r(e)+" is not an object")}},8191:(e,t,a)=>{var n=a(4899),r=a(8719),o=a(3365),c=function(e){return function(t,a,c){var l,i=n(t),s=o(i),u=r(c,s);if(e&&a!=a){for(;s>u;)if((l=i[u++])!=l)return!0}else for(;s>u;u++)if((e||u in i)&&i[u]===a)return e||u||0;return!e&&-1}};e.exports={includes:c(!0),indexOf:c(!1)}},3533:(e,t,a)=>{var n=a(7695),r=n({}.toString),o=n("".slice);e.exports=function(e){return o(r(e),8,-1)}},6102:(e,t,a)=>{var n=a(9947),r=a(8112),o=a(3533),c=a(2798)("toStringTag"),l=Object,i="Arguments"==o(function(){return arguments}());e.exports=n?o:function(e){var t,a,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(a=function(e,t){try{return e[t]}catch(a){}}(t=l(e),c))?a:i?o(t):"Object"==(n=o(t))&&r(t.callee)?"Arguments":n}},3867:(e,t,a)=>{var n=a(8594),r=a(3746),o=a(9125),c=a(5822);e.exports=function(e,t,a){for(var l=r(t),i=c.f,s=o.f,u=0;u<l.length;u++){var m=l[u];n(e,m)||a&&n(a,m)||i(e,m,s(t,m))}}},7567:(e,t,a)=>{var n=a(372),r=a(5822),o=a(3871);e.exports=n?function(e,t,a){return r.f(e,t,o(1,a))}:function(e,t,a){return e[t]=a,e}},3871:e=>{e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},2244:(e,t,a)=>{var n=a(8112),r=a(5822),o=a(4711),c=a(3780);e.exports=function(e,t,a,l){l||(l={});var i=l.enumerable,s=void 0!==l.name?l.name:t;return n(a)&&o(a,s,l),l.global?i?e[t]=a:c(t,a):(l.unsafe?e[t]&&(i=!0):delete e[t],i?e[t]=a:r.f(e,t,{value:a,enumerable:!1,configurable:!l.nonConfigurable,writable:!l.nonWritable})),e}},3780:(e,t,a)=>{var n=a(8713),r=Object.defineProperty;e.exports=function(e,t){try{r(n,e,{value:t,configurable:!0,writable:!0})}catch(a){n[e]=t}return t}},372:(e,t,a)=>{var n=a(3513);e.exports=!n((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},2535:(e,t,a)=>{var n=a(8713),r=a(7650),o=n.document,c=r(o)&&r(o.createElement);e.exports=function(e){return c?o.createElement(e):{}}},2901:(e,t,a)=>{var n=a(4383);e.exports=n("navigator","userAgent")||""},5337:(e,t,a)=>{var n,r,o=a(8713),c=a(2901),l=o.process,i=o.Deno,s=l&&l.versions||i&&i.version,u=s&&s.v8;u&&(r=(n=u.split("."))[0]>0&&n[0]<4?1:+(n[0]+n[1])),!r&&c&&(!(n=c.match(/Edge\/(\d+)/))||n[1]>=74)&&(n=c.match(/Chrome\/(\d+)/))&&(r=+n[1]),e.exports=r},601:(e,t,a)=>{var n=a(8713),r=a(7695);e.exports=function(e,t){return r(n[e].prototype[t])}},4273:e=>{e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},7016:(e,t,a)=>{var n=a(8713),r=a(9125).f,o=a(7567),c=a(2244),l=a(3780),i=a(3867),s=a(7953);e.exports=function(e,t){var a,u,m,p,d,h=e.target,g=e.global,f=e.stat;if(a=g?n:f?n[h]||l(h,{}):(n[h]||{}).prototype)for(u in t){if(p=t[u],m=e.dontCallGetSet?(d=r(a,u))&&d.value:a[u],!s(g?u:h+(f?".":"#")+u,e.forced)&&void 0!==m){if(typeof p==typeof m)continue;i(p,m)}(e.sham||m&&m.sham)&&o(p,"sham",!0),c(a,u,p,e)}}},3513:e=>{e.exports=function(e){try{return!!e()}catch(t){return!0}}},8312:(e,t,a)=>{var n=a(3513);e.exports=!n((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")}))},2982:(e,t,a)=>{var n=a(8312),r=Function.prototype.call;e.exports=n?r.bind(r):function(){return r.apply(r,arguments)}},4607:(e,t,a)=>{var n=a(372),r=a(8594),o=Function.prototype,c=n&&Object.getOwnPropertyDescriptor,l=r(o,"name"),i=l&&"something"===function(){}.name,s=l&&(!n||n&&c(o,"name").configurable);e.exports={EXISTS:l,PROPER:i,CONFIGURABLE:s}},7695:(e,t,a)=>{var n=a(8312),r=Function.prototype,o=r.bind,c=r.call,l=n&&o.bind(c,c);e.exports=n?function(e){return e&&l(e)}:function(e){return e&&function(){return c.apply(e,arguments)}}},4383:(e,t,a)=>{var n=a(8713),r=a(8112),o=function(e){return r(e)?e:void 0};e.exports=function(e,t){return arguments.length<2?o(n[e]):n[e]&&n[e][t]}},6879:(e,t,a)=>{var n=a(3663);e.exports=function(e,t){var a=e[t];return null==a?void 0:n(a)}},8713:(e,t,a)=>{var n=function(e){return e&&e.Math==Math&&e};e.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof a.g&&a.g)||function(){return this}()||Function("return this")()},8594:(e,t,a)=>{var n=a(7695),r=a(8918),o=n({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},7826:e=>{e.exports={}},7624:(e,t,a)=>{var n=a(4383);e.exports=n("document","documentElement")},9791:(e,t,a)=>{var n=a(372),r=a(3513),o=a(2535);e.exports=!n&&!r((function(){return 7!=Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a}))},6608:(e,t,a)=>{var n=a(7695),r=a(3513),o=a(3533),c=Object,l=n("".split);e.exports=r((function(){return!c("z").propertyIsEnumerable(0)}))?function(e){return"String"==o(e)?l(e,""):c(e)}:c},715:(e,t,a)=>{var n=a(7695),r=a(8112),o=a(8799),c=n(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return c(e)}),e.exports=o.inspectSource},9694:(e,t,a)=>{var n,r,o,c=a(1400),l=a(8713),i=a(7695),s=a(7650),u=a(7567),m=a(8594),p=a(8799),d=a(7916),h=a(7826),g="Object already initialized",f=l.TypeError,v=l.WeakMap;if(c||p.state){var y=p.state||(p.state=new v),b=i(y.get),R=i(y.has),E=i(y.set);n=function(e,t){if(R(y,e))throw new f(g);return t.facade=e,E(y,e,t),t},r=function(e){return b(y,e)||{}},o=function(e){return R(y,e)}}else{var w=d("state");h[w]=!0,n=function(e,t){if(m(e,w))throw new f(g);return t.facade=e,u(e,w,t),t},r=function(e){return m(e,w)?e[w]:{}},o=function(e){return m(e,w)}}e.exports={set:n,get:r,has:o,enforce:function(e){return o(e)?r(e):n(e,{})},getterFor:function(e){return function(t){var a;if(!s(t)||(a=r(t)).type!==e)throw f("Incompatible receiver, "+e+" required");return a}}}},8112:e=>{e.exports=function(e){return"function"==typeof e}},7953:(e,t,a)=>{var n=a(3513),r=a(8112),o=/#|\.prototype\./,c=function(e,t){var a=i[l(e)];return a==u||a!=s&&(r(t)?n(t):!!t)},l=c.normalize=function(e){return String(e).replace(o,".").toLowerCase()},i=c.data={},s=c.NATIVE="N",u=c.POLYFILL="P";e.exports=c},7650:(e,t,a)=>{var n=a(8112);e.exports=function(e){return"object"==typeof e?null!==e:n(e)}},1215:e=>{e.exports=!1},8207:(e,t,a)=>{var n=a(4383),r=a(8112),o=a(1367),c=a(5052),l=Object;e.exports=c?function(e){return"symbol"==typeof e}:function(e){var t=n("Symbol");return r(t)&&o(t.prototype,l(e))}},3365:(e,t,a)=>{var n=a(3070);e.exports=function(e){return n(e.length)}},4711:(e,t,a)=>{var n=a(3513),r=a(8112),o=a(8594),c=a(372),l=a(4607).CONFIGURABLE,i=a(715),s=a(9694),u=s.enforce,m=s.get,p=Object.defineProperty,d=c&&!n((function(){return 8!==p((function(){}),"length",{value:8}).length})),h=String(String).split("String"),g=e.exports=function(e,t,a){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),a&&a.getter&&(t="get "+t),a&&a.setter&&(t="set "+t),(!o(e,"name")||l&&e.name!==t)&&p(e,"name",{value:t,configurable:!0}),d&&a&&o(a,"arity")&&e.length!==a.arity&&p(e,"length",{value:a.arity});try{a&&o(a,"constructor")&&a.constructor?c&&p(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var n=u(e);return o(n,"source")||(n.source=h.join("string"==typeof t?t:"")),e};Function.prototype.toString=g((function(){return r(this)&&m(this).source||i(this)}),"toString")},4111:e=>{var t=Math.ceil,a=Math.floor;e.exports=Math.trunc||function(e){var n=+e;return(n>0?a:t)(n)}},8661:(e,t,a)=>{var n=a(5337),r=a(3513);e.exports=!!Object.getOwnPropertySymbols&&!r((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&n&&n<41}))},1400:(e,t,a)=>{var n=a(8713),r=a(8112),o=a(715),c=n.WeakMap;e.exports=r(c)&&/native code/.test(o(c))},3222:(e,t,a)=>{var n,r=a(4343),o=a(2603),c=a(4273),l=a(7826),i=a(7624),s=a(2535),u=a(7916),m=u("IE_PROTO"),p=function(){},d=function(e){return"<script>"+e+"</"+"script>"},h=function(e){e.write(d("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{n=new ActiveXObject("htmlfile")}catch(r){}var e,t;g="undefined"!=typeof document?document.domain&&n?h(n):((t=s("iframe")).style.display="none",i.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(d("document.F=Object")),e.close(),e.F):h(n);for(var a=c.length;a--;)delete g.prototype[c[a]];return g()};l[m]=!0,e.exports=Object.create||function(e,t){var a;return null!==e?(p.prototype=r(e),a=new p,p.prototype=null,a[m]=e):a=g(),void 0===t?a:o.f(a,t)}},2603:(e,t,a)=>{var n=a(372),r=a(9414),o=a(5822),c=a(4343),l=a(4899),i=a(9297);t.f=n&&!r?Object.defineProperties:function(e,t){c(e);for(var a,n=l(t),r=i(t),s=r.length,u=0;s>u;)o.f(e,a=r[u++],n[a]);return e}},5822:(e,t,a)=>{var n=a(372),r=a(9791),o=a(9414),c=a(4343),l=a(1009),i=TypeError,s=Object.defineProperty,u=Object.getOwnPropertyDescriptor,m="enumerable",p="configurable",d="writable";t.f=n?o?function(e,t,a){if(c(e),t=l(t),c(a),"function"==typeof e&&"prototype"===t&&"value"in a&&d in a&&!a.writable){var n=u(e,t);n&&n.writable&&(e[t]=a.value,a={configurable:p in a?a.configurable:n.configurable,enumerable:m in a?a.enumerable:n.enumerable,writable:!1})}return s(e,t,a)}:s:function(e,t,a){if(c(e),t=l(t),c(a),r)try{return s(e,t,a)}catch(n){}if("get"in a||"set"in a)throw i("Accessors not supported");return"value"in a&&(e[t]=a.value),e}},9125:(e,t,a)=>{var n=a(372),r=a(2982),o=a(4656),c=a(3871),l=a(4899),i=a(1009),s=a(8594),u=a(9791),m=Object.getOwnPropertyDescriptor;t.f=n?m:function(e,t){if(e=l(e),t=i(t),u)try{return m(e,t)}catch(a){}if(s(e,t))return c(!r(o.f,e,t),e[t])}},3484:(e,t,a)=>{var n=a(5111),r=a(4273).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},5214:(e,t)=>{t.f=Object.getOwnPropertySymbols},1367:(e,t,a)=>{var n=a(7695);e.exports=n({}.isPrototypeOf)},5111:(e,t,a)=>{var n=a(7695),r=a(8594),o=a(4899),c=a(8191).indexOf,l=a(7826),i=n([].push);e.exports=function(e,t){var a,n=o(e),s=0,u=[];for(a in n)!r(l,a)&&r(n,a)&&i(u,a);for(;t.length>s;)r(n,a=t[s++])&&(~c(u,a)||i(u,a));return u}},9297:(e,t,a)=>{var n=a(5111),r=a(4273);e.exports=Object.keys||function(e){return n(e,r)}},4656:(e,t)=>{"use strict";var a={}.propertyIsEnumerable,n=Object.getOwnPropertyDescriptor,r=n&&!a.call({1:2},1);t.f=r?function(e){var t=n(this,e);return!!t&&t.enumerable}:a},8832:(e,t,a)=>{var n=a(372),r=a(7695),o=a(9297),c=a(4899),l=r(a(4656).f),i=r([].push),s=function(e){return function(t){for(var a,r=c(t),s=o(r),u=s.length,m=0,p=[];u>m;)a=s[m++],n&&!l(r,a)||i(p,e?[a,r[a]]:r[a]);return p}};e.exports={entries:s(!0),values:s(!1)}},7914:(e,t,a)=>{var n=a(2982),r=a(8112),o=a(7650),c=TypeError;e.exports=function(e,t){var a,l;if("string"===t&&r(a=e.toString)&&!o(l=n(a,e)))return l;if(r(a=e.valueOf)&&!o(l=n(a,e)))return l;if("string"!==t&&r(a=e.toString)&&!o(l=n(a,e)))return l;throw c("Can't convert object to primitive value")}},3746:(e,t,a)=>{var n=a(4383),r=a(7695),o=a(3484),c=a(5214),l=a(4343),i=r([].concat);e.exports=n("Reflect","ownKeys")||function(e){var t=o.f(l(e)),a=c.f;return a?i(t,a(e)):t}},8314:(e,t,a)=>{var n=a(8713);e.exports=n},1250:e=>{var t=TypeError;e.exports=function(e){if(null==e)throw t("Can't call method on "+e);return e}},7916:(e,t,a)=>{var n=a(9820),r=a(8846),o=n("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},8799:(e,t,a)=>{var n=a(8713),r=a(3780),o="__core-js_shared__",c=n[o]||r(o,{});e.exports=c},9820:(e,t,a)=>{var n=a(1215),r=a(8799);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.1",mode:n?"pure":"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.1/LICENSE",source:"https://github.com/zloirock/core-js"})},4369:(e,t,a)=>{var n=a(2901);e.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(n)},7356:(e,t,a)=>{var n=a(7695),r=a(3070),o=a(8901),c=a(8307),l=a(1250),i=n(c),s=n("".slice),u=Math.ceil,m=function(e){return function(t,a,n){var c,m,p=o(l(t)),d=r(a),h=p.length,g=void 0===n?" ":o(n);return d<=h||""==g?p:((m=i(g,u((c=d-h)/g.length))).length>c&&(m=s(m,0,c)),e?p+m:m+p)}};e.exports={start:m(!1),end:m(!0)}},8307:(e,t,a)=>{"use strict";var n=a(5134),r=a(8901),o=a(1250),c=RangeError;e.exports=function(e){var t=r(o(this)),a="",l=n(e);if(l<0||l==1/0)throw c("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(t+=t))1&l&&(a+=t);return a}},8719:(e,t,a)=>{var n=a(5134),r=Math.max,o=Math.min;e.exports=function(e,t){var a=n(e);return a<0?r(a+t,0):o(a,t)}},4899:(e,t,a)=>{var n=a(6608),r=a(1250);e.exports=function(e){return n(r(e))}},5134:(e,t,a)=>{var n=a(4111);e.exports=function(e){var t=+e;return t!=t||0===t?0:n(t)}},3070:(e,t,a)=>{var n=a(5134),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},8918:(e,t,a)=>{var n=a(1250),r=Object;e.exports=function(e){return r(n(e))}},9655:(e,t,a)=>{var n=a(2982),r=a(7650),o=a(8207),c=a(6879),l=a(7914),i=a(2798),s=TypeError,u=i("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var a,i=c(e,u);if(i){if(void 0===t&&(t="default"),a=n(i,e,t),!r(a)||o(a))return a;throw s("Can't convert object to primitive value")}return void 0===t&&(t="number"),l(e,t)}},1009:(e,t,a)=>{var n=a(9655),r=a(8207);e.exports=function(e){var t=n(e,"string");return r(t)?t:t+""}},9947:(e,t,a)=>{var n={};n[a(2798)("toStringTag")]="z",e.exports="[object z]"===String(n)},8901:(e,t,a)=>{var n=a(6102),r=String;e.exports=function(e){if("Symbol"===n(e))throw TypeError("Cannot convert a Symbol value to a string");return r(e)}},2458:e=>{var t=String;e.exports=function(e){try{return t(e)}catch(a){return"Object"}}},8846:(e,t,a)=>{var n=a(7695),r=0,o=Math.random(),c=n(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+c(++r+o,36)}},5052:(e,t,a)=>{var n=a(8661);e.exports=n&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},9414:(e,t,a)=>{var n=a(372),r=a(3513);e.exports=n&&r((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype}))},2798:(e,t,a)=>{var n=a(8713),r=a(9820),o=a(8594),c=a(8846),l=a(8661),i=a(5052),s=r("wks"),u=n.Symbol,m=u&&u.for,p=i?u:u&&u.withoutSetter||c;e.exports=function(e){if(!o(s,e)||!l&&"string"!=typeof s[e]){var t="Symbol."+e;l&&o(u,e)?s[e]=u[e]:s[e]=i&&m?m(t):p(t)}return s[e]}},1946:(e,t,a)=>{"use strict";var n=a(7016),r=a(8191).includes,o=a(3513),c=a(4570);n({target:"Array",proto:!0,forced:o((function(){return!Array(1).includes()}))},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")},4485:(e,t,a)=>{var n=a(7016),r=a(8832).entries;n({target:"Object",stat:!0},{entries:function(e){return r(e)}})},152:(e,t,a)=>{var n=a(7016),r=a(8832).values;n({target:"Object",stat:!0},{values:function(e){return r(e)}})},1452:(e,t,a)=>{"use strict";var n=a(7016),r=a(7356).end;n({target:"String",proto:!0,forced:a(4369)},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},3886:(e,t,a)=>{"use strict";var n=a(7016),r=a(7356).start;n({target:"String",proto:!0,forced:a(4369)},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}})},7224:(e,t,a)=>{"use strict";a.d(t,{mG:()=>n});function n(e,t,a,n){return new(a||(a=Promise))((function(r,o){function c(e){try{i(n.next(e))}catch(t){o(t)}}function l(e){try{i(n.throw(e))}catch(t){o(t)}}function i(e){var t;e.done?r(e.value):(t=e.value,t instanceof a?t:new a((function(e){e(t)}))).then(c,l)}i((n=n.apply(e,t||[])).next())}))}Object.create;Object.create}},t={};function a(n){var r=t[n];if(void 0!==r)return r.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return a.d(t,{a:t}),t},a.d=(e,t)=>{for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},a.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),a.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";a(6926),a(617),a(18),a(9004),a(7193)})(),(()=>{"use strict";const e=document.createElement("details"),t=()=>{const t=e.constructor.prototype,a=Object.getOwnPropertyDescriptor(t,"open");Object.defineProperties(t,{open:{get(){var e;return"DETAILS"===this.tagName?this.hasAttribute("open"):null===(e=null==a?void 0:a.get)||void 0===e?void 0:e.call(this)},set(e){var t;if("DETAILS"===this.tagName){if(e!==this.hasAttribute("open")){const e=document.createEvent("Event");e.initEvent("toggle",!1,!1),this.dispatchEvent(e)}return e?this.setAttribute("open",""):this.removeAttribute("open")}return null===(t=null==a?void 0:a.set)||void 0===t?void 0:t.call(this,e)}}}),document.addEventListener("click",(e=>{const t=e.target.closest("summary"),a=null==t?void 0:t.parentElement;a&&"DETAILS"===a.tagName&&(a.open=!a.open)}))};"open"in e||t()})(),(()=>{"use strict";var e=a(8093),t=a(5707),n=a(4058),r=a(1255),o=a(3681),c=a(4589);const{useRef:l,useEffect:i,useCallback:s}=React,u={current:null,get isOpen(){return null!==this.current&&this.current.open},open(){null===this.current||this.current.open||(this.current.open=!0)},close(){null!==this.current&&this.current.open&&(this.current.open=!1)}},m=({setAudioSrc:e,lang:t})=>{const a=l(Symbol(m.name));i((()=>r.uQ.sub(a.current,(e=>{1===e.type&&u.close()}))),[]);const n=s((()=>{const e=e=>{"Escape"!==e.code&&"Escape"!==e.key||u.close()};u.isOpen?window.addEventListener("keydown",e):window.removeEventListener("keydown",e)}),[]),o=s((t=>{t.preventDefault();const a=t.target.elements.namedItem("url"),n=p(a.value);sessionStorage.setItem("audio-src",n),e(n)}),[e]),d=s((e=>{e.target.select()}),[]);return ReactDOM.createPortal(React.createElement("details",{ref:u,className:"dialog fixed loadaudio-dialog",onToggle:n},React.createElement("summary",{className:"dialog-close"},React.createElement(c.b2,null)),React.createElement("section",{className:"dialog-body loadaudio-body"},React.createElement("div",{className:"loadaudio-tab loadaudio-via-file"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-file",defaultChecked:!0}),React.createElement("label",{className:"ripple",htmlFor:"tab-file"},t.loadAudio.file),React.createElement("div",{className:"loadaudio-content"},React.createElement("label",{className:"audio-input-tip",htmlFor:"audio-input"},t.loadAudio.loadFile))),React.createElement("div",{className:"loadaudio-tab loadaudio-via-url"},React.createElement("input",{type:"radio",name:"tabgroup",id:"tab-url"}),React.createElement("label",{className:"ripple",htmlFor:"tab-url"},t.loadAudio.url),React.createElement("div",{className:"loadaudio-content"},React.createElement("form",{className:"audio-input-form",onSubmit:o},React.createElement("input",{type:"url",name:"url",required:!0,autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",spellCheck:!1,onFocus:d}),React.createElement("input",{className:"button",type:"submit"})))))),document.body)},p=e=>{if(e.includes("music.163.com")){const t=e.match(/\d{4,}/);if(null!==t){return`https://music.163.com/song/media/outer/url?id=${t[0]}.mp3`}}return e},{useContext:d}=React,h=()=>{const{lang:t}=d(e.T);return React.createElement("div",{className:"home"},React.createElement("p",{className:"home-tip home-tip-top-left"},t.home.tipTopLeft),React.createElement("p",{className:"home-tip home-tip-top-right"},t.home.tipTopRight),React.createElement("p",{className:"home-tip home-tip-bottom-left"},t.home.tipBottomLeft),React.createElement("p",{className:"home-tip home-tip-bottom-right"},t.home.tipBottomRight),React.createElement("section",{className:"home-tip-section"},React.createElement("p",null,t.home.tips),React.createElement("ol",null,React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/editor/"},React.createElement(c.JF,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForLyricText))),React.createElement("li",null,React.createElement("span",{className:"home-tip-item",onClick:()=>{u.open()}},React.createElement(c.Mq,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForUploadAudio))),React.createElement("li",null,React.createElement("a",{className:"home-tip-item",href:"#/synchronizer/"},React.createElement(c.dZ,null),React.createElement("span",{className:"home-tip-text"},t.home.tipForSynchronizer))))))};document.addEventListener("keydown",(e=>{const{code:t,key:a,target:n}=e;(0,o.y)(n)||("?"===a||"Slash"===t&&e.shiftKey)&&(location.hash="#/")}));var g=a(8141);const{lazy:f,useContext:v,useEffect:y,useRef:b,useState:R}=React,E=f((()=>Promise.resolve().then(a.bind(a,6061)).then((({Eidtor:e})=>({default:e}))))),w=f((()=>Promise.resolve().then(a.bind(a,7084)).then((({Synchronizer:e})=>({default:e}))))),x=f((()=>Promise.resolve().then(a.bind(a,330)).then((({Gist:e})=>({default:e}))))),k=f((()=>Promise.resolve().then(a.bind(a,7818)).then((({Preferences:e})=>({default:e}))))),S=()=>{const a=b(Symbol(S.name)),{prefState:o,trimOptions:c}=v(e.T,4),[l,i]=R(location.hash);y((()=>{window.addEventListener("hashchange",(()=>{i(location.hash)}))}),[]);const[s,u]=(0,t.h)((()=>({text:localStorage.getItem("lrc-maker-lyric")||"",options:c,select:Number.parseInt(sessionStorage.getItem("select-index"),10)||0})));y((()=>r.uQ.sub(a.current,(e=>{1===e.type&&u({type:3,payload:{name:"length",value:(0,n.Zr)(e.payload,o.fixed,!1)}})}))),[u,o.fixed]),y((()=>{const e=()=>{u({type:6,payload:e=>{localStorage.setItem("lrc-maker-lyric",(0,n.Pz)(e,o)),sessionStorage.setItem("select-index",e.selectIndex.toString())}}),localStorage.setItem("lrc-maker-preferences",JSON.stringify(o))};document.addEventListener("visibilitychange",(()=>{document.hidden&&e()})),window.addEventListener("beforeunload",(()=>{e()}))}),[u,o]),y((()=>{document.documentElement.addEventListener("drop",(e=>{var t;const a=null===(t=e.dataTransfer)||void 0===t?void 0:t.files[0];if(a&&(a.type.startsWith("text/")||/(?:\.lrc|\.txt)$/i.test(a.name))){const e=new FileReader,t=()=>{u({type:0,payload:{text:e.result,options:c}})};e.addEventListener("load",t,{once:!0}),location.hash="#/editor/",e.readAsText(a,"utf-8")}}))}),[u,c]),y((()=>{const e={0:"auto",1:"light",2:"dark"};document.documentElement.dataset.theme=e[o.themeMode]}),[o.themeMode]),y((()=>{const e=T(o.themeColor);document.documentElement.style.setProperty("--theme-rgb",e.join(", "));const t=N(...e)+.05,a=t*t>.0525?"var(--black)":"var(--white)";document.documentElement.style.setProperty("--theme-contrast-color",a)}),[o.themeColor]);const m=(()=>{switch(l){case"#/editor/":return React.createElement(E,{lrcState:s,lrcDispatch:u});case"#/synchronizer/":return 0===s.lyric.length?React.createElement(g.DL,null):React.createElement(w,{state:s,dispatch:u});case"#/gist/":return React.createElement(x,{lrcDispatch:u,langName:o.lang});case"#/preferences/":return React.createElement(k,null)}return React.createElement(h,null)})();return React.createElement("main",{className:"app-main"},React.createElement(React.Suspense,{fallback:React.createElement(g.WQ,null)},m))},N=(...e)=>e.map((e=>e/255)).map((e=>e<=.03928?e/12.92:Math.pow((e+.055)/1.055,2.4))).reduce(((e,t,a)=>e+t*[.2126,.7152,.0722][a]),0),T=e=>{e=e.slice(1);const t=Number.parseInt(e,16);return[t>>16&255,t>>8&255,t>>0&255]},{useState:C,useEffect:L,useRef:I,useCallback:O,useMemo:G}=React,M=({min:e,max:t,step:a,value:n,onInput:r,className:o})=>{const c=(n-e)/(t-e||1);return React.createElement("div",{className:`slider ${o}-slider`},React.createElement("progress",{value:c}),React.createElement("input",{type:"range",className:o,"aria-label":o,min:e,max:t,step:a,value:n,onInput:r}))},j=({duration:e,paused:t})=>{const a=I(Symbol(j.name)),[o,c]=C(r._m.currentTime),[l,i]=C(r._m.playbackRate);L((()=>r.uQ.sub(a.current,(e=>{2===e.type&&i(e.payload)}))),[]),L((()=>{if(t)return r.hh.sub(a.current,(e=>{c(e)}));{const e=setInterval((()=>{c(r._m.currentTime)}),500/l);return()=>{clearInterval(e)}}}),[t,l]);const s=I(0),u=O((e=>{s.current&&cancelAnimationFrame(s.current);const t=e.target.value;s.current=requestAnimationFrame((()=>{const e=Number.parseInt(t,0);c(e),r._m.currentTime=e}))}),[]),m=G((()=>!!e&&" / "+(0,n.Zr)(e,0,!1)),[e]);return React.createElement(React.Fragment,null,React.createElement("time",null,(0,n.Zr)(o,0,!1),m),React.createElement(M,{min:0,max:e,step:1,value:o,className:"timeline",onInput:u}))},z=({lang:e})=>{const t=I(Symbol(z.name)),[a,n]=C(r._m.playbackRate);L((()=>r.uQ.sub(t.current,(e=>{2===e.type&&n(e.payload)}))),[]);const o=G((()=>Math.log(a)),[a]),c=O((e=>{const t=Math.exp(Number.parseFloat(e.target.value));n(t),r._m.playbackRate=t}),[]),l=O((()=>{r._m.playbackRate=1}),[]);return React.createElement(React.Fragment,null,React.createElement("button",{className:"ripple glow",title:e.audio.resetRate,onClick:l},"X ",a.toFixed(2)),React.createElement(M,{className:"playbackrate",min:-1,max:1,step:"any",value:o,onInput:c}))},F=({lang:e})=>{const t=I(Symbol(F.name)),[a,n]=C(r._m.paused),[o,l]=C(r._m.duration);L((()=>r.uQ.sub(t.current,(e=>{switch(e.type){case 1:l(e.payload),n(r._m.paused);break;case 0:n(e.payload)}}))),[]);const i=O((e=>{r._m.step(e,-5)}),[]),s=O((e=>{r._m.step(e,5)}),[]),m=O((()=>{r._m.toggle()}),[]),p=O((()=>{u.open()}),[]);return React.createElement("section",{className:"lrc-audio"+(a?"":" playing")},React.createElement("button",{className:"ripple glow loadaudio-button",title:e.audio.loadAudio,onClick:p},React.createElement(c.Mq,null)),React.createElement("button",{className:"ripple glow",title:e.audio.replay5s,onClick:i,disabled:!o},React.createElement(c.fm,null)),React.createElement("button",{className:"ripple glow",title:a?e.audio.play:e.audio.pause,disabled:!o,onClick:m},a?React.createElement(c.X0,null):React.createElement(c.nf,null)),React.createElement("button",{className:"ripple glow",title:e.audio.forward5s,onClick:s,disabled:!o},React.createElement(c.gi,null)),React.createElement(j,{duration:o,paused:a}),React.createElement(z,{lang:e}))};var A=a(4240);const{useCallback:B,useContext:P,useEffect:D,useReducer:H,useRef:_}=React,U=["audio/*",".ncm",".qmcflac",".qmc0",".qmc1",".qmc2",".qmc3","qmcogg"].join(", "),V=()=>{const{prefState:t,lang:a}=P(e.T,3),[n,c]=H(((e,t)=>(URL.revokeObjectURL(e),t)),void 0,(()=>{let e=sessionStorage.getItem("audio-src");if(null===e&&location.search&&URLSearchParams){const t=new URLSearchParams(location.search),a=t.get("url");if(null!==a)return a;const n=t.get("text")||t.get("title")||"",r=/https?:\/\/\S+/.exec(n);e=r&&p(r[0])}return e}));D((()=>{document.addEventListener("keydown",(e=>{const{code:t,key:a,target:n}=e,c=t||a;if(!(0,o.y)(n)&&r._m.src)if(!0===e.metaKey||!0===e.ctrlKey)if(["ArrowUp","KeyJ","Up","J","j"].includes(c)){e.preventDefault();const t=r._m.playbackRate,a=Math.exp(Math.min(Math.log(t)+.2,1));r._m.playbackRate=a}else if(["ArrowDown","KeyK","Down","K","k"].includes(c)){e.preventDefault();const t=r._m.playbackRate,a=Math.exp(Math.max(Math.log(t)-.2,-1));r._m.playbackRate=a}else"Enter"===c&&(e.preventDefault(),r._m.toggle());else["ArrowLeft","KeyA","KeyH","Left","A","a","H","h"].includes(c)?(e.preventDefault(),r._m.step(e,-5)):["ArrowRight","KeyD","KeyL","Right","D","d","L","l"].includes(c)?(e.preventDefault(),r._m.step(e,5)):"KeyR"!==t&&"R"!==a&&"r"!==a||(e.preventDefault(),r._m.playbackRate=1)}))}),[]),D((()=>{document.documentElement.addEventListener("drop",(e=>{const t=e.dataTransfer.files[0];$(t,c)}))}),[]);const l=B((e=>{const t=e.target.files[0];$(t,c)}),[]),i=_(0),s=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:1,payload:r._m.duration}),A.N.pub({type:"success",text:a.notify.audioLoaded})}),[a]),u=B((()=>{r.hh.pub(r._m.currentTime),i.current=requestAnimationFrame(u)}),[]),d=B((()=>{i.current=requestAnimationFrame(u),r.uQ.pub({type:0,payload:!1})}),[u]),h=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:0,payload:!0})}),[]),g=B((()=>{cancelAnimationFrame(i.current),r.uQ.pub({type:0,payload:!0})}),[]),f=B((()=>{r._m.paused&&r.hh.pub(r._m.currentTime)}),[]),v=B((()=>{r.uQ.pub({type:2,payload:r._m.playbackRate})}),[]),y=B((e=>{const t=e.target.error,n=a.audio.error[t.code]||t.message||a.audio.error[0];A.N.pub({type:"warning",text:n})}),[a]);return React.createElement("footer",{className:"app-footer"},React.createElement("input",{id:"audio-input",type:"file",accept:U,hidden:!0,onChange:l}),React.createElement(m,{setAudioSrc:c,lang:a}),React.createElement("audio",{ref:r._m,src:n,controls:t.builtInAudio,hidden:!t.builtInAudio,onLoadedMetadata:s,onPlay:d,onPause:h,onEnded:g,onTimeUpdate:f,onRateChange:v,onError:y}),t.builtInAudio||React.createElement(F,{lang:a}))},$=(e,t)=>{if(sessionStorage.removeItem("audio-src"),e){if(e.type.startsWith("audio/"))return void t(URL.createObjectURL(e));if(e.name.endsWith(".ncm")){const a=new Worker("./ncmc-worker.js");return a.addEventListener("message",(e=>{if("success"===e.data.type){const a=e.data.payload,n=new Blob([a],{type:q(a)});t(URL.createObjectURL(n))}"error"===e.data.type&&A.N.pub({type:"warning",text:e.data.payload})}),{once:!0}),a.addEventListener("error",(e=>{A.N.pub({type:"warning",text:e.message}),a.terminate()}),{once:!0}),void a.postMessage(e)}if(/\.qmc(?:flac|0|1|2|3)$/.test(e.name)){const a=new Worker("./qmc-worker.js");return a.addEventListener("message",(e=>{if("success"===e.data.type){const a=e.data.payload,n=new Blob([a],{type:q(a)});t(URL.createObjectURL(n))}}),{once:!0}),void a.postMessage(e)}}},q=e=>{switch(new DataView(e.buffer).getUint32(0,!1)){case 1716281667:return"audio/flac";case 1332176723:return"audio/ogg";case 1380533830:case 1463899717:return"audio/wav";default:return"audio/mpeg"}};document.addEventListener("visibilitychange",(()=>{r._m.paused||r._m.toggle()}));const{useContext:K}=React,W=()=>{const{lang:t}=K(e.T,1);return React.createElement("header",{className:"app-header"},React.createElement("a",{id:"/",className:"app-title",title:t.header.home,href:"#/"},React.createElement("span",{className:"app-title-text"},t.app.name),React.createElement("span",{className:"app-title-svg"},React.createElement(c.DP,null))),React.createElement("nav",{className:"app-nav"},React.createElement("a",{id:"/editor/",className:"app-tab",title:t.header.editor,href:"#/editor/"},React.createElement(c.JF,null)),React.createElement("a",{id:"/synchronizer/",className:"app-tab",title:t.header.synchronizer,href:"#/synchronizer/"},React.createElement(c.dZ,null)),React.createElement("a",{id:"/gist/",className:"app-tab",title:t.header.gist,href:"#/gist/"},React.createElement(c.il,null)),React.createElement("a",{id:"/preferences/",className:"app-tab",title:t.header.preferences,href:"#/preferences/"},React.createElement(c.gO,null))))};"scrollBehavior"in document.documentElement.style||Promise.resolve().then(a.bind(a,8395)),ReactDOM.render(React.createElement((()=>React.createElement(e.w,null,React.createElement(W,null),React.createElement(S,null),React.createElement(V,null),React.createElement(A.F,null)))),document.querySelector(".app-container"),(()=>{document.querySelector(".page-loading").remove(),(navigator.standalone||window.matchMedia("(display-mode: standalone)").matches)&&document.addEventListener("click",(e=>{const t=e.target.getAttribute("href");(null==t?void 0:t.startsWith("#"))&&(e.preventDefault(),location.replace(t))})),window.addEventListener("dragover",(e=>{e.preventDefault(),e.dataTransfer.dropEffect="copy"})),window.addEventListener("drop",(e=>{e.preventDefault()}))}))})()})();
//# sourceMappingURL=index.es6.js.map